<app-header title="Signup" />

<form
  (ngSubmit)="onSubmit()"
  [formGroup]="signupForm"
  class="flex flex-col gap-4 mt-20 w-full md:p-0 p-4 md:w-2/3 m-auto"
>
  <input
    formControlName="email"
    type="text"
    placeholder="Email"
    class="input rounded-none w-full max-w-5xl text-2xl border-b-2 focus:outline-none focus:border-transparent focus:border-b-2 focus:border-b-slate-500"
  />
  <error-text [form]="signupForm" controlName="email" />

  <input
    formControlName="username"
    type="text"
    placeholder="Username"
    class="input rounded-none w-full max-w-5xl text-2xl border-b-2 focus:outline-none focus:border-transparent focus:border-b-2 focus:border-b-slate-500"
  />
  <error-text [form]="signupForm" controlName="username" />

  <input
    formControlName="password"
    type="password"
    placeholder="Password"
    class="input rounded-none w-full max-w-5xl text-2xl border-b-2 focus:outline-none focus:border-transparent focus:border-b-2 focus:border-b-slate-500"
  />
  <error-text
    [form]="signupForm"
    controlName="password"
    [rules]="signupPasswordRules"
  />

  <div>
    <button
      [disabled]="signupForm.invalid || isLoading()"
      type="submit"
      class="btn w-full mt-8"
    >
      @if(isLoading()){ <small-loading-spinner /> }@else{ Signup }
    </button>
  </div>
  <p>
    Already have an account?
    <a class="text-blue-500 underline cursor-pointer" [routerLink]="['/login']"
      >Login</a
    >
  </p>
</form>
